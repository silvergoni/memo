---
title: "spring"
date: 2019-07-02 14:55:28 -0400
categories: java
---

- 이전 : web.xml < DispatcherServlet 등록
- 지금 : WebApplicationInitializer에서 onStartup 메서드 구현
- 더편하게 : AbstractAnnotationConfigDispatcherServletInitializer 클래스 구현



BaseLocale 특징
  - hash 를 씀
    - getInstance
  - cache 도 씀
    - normalize와 intern을 쓴 이유가 뭘까

Locale
  - request.getLocale()은 org.apache.catalina.connector 패키지의 Requset.getLocale 에서 가져온다.
  - Header에서 "accept-language"에 있는 value값을 파싱하여 가장 첫번째값으 보여주는 로직이 있다.
  - http://www.docjar.com/html/api/org/apache/catalina/connector/Request.java.html

LocaleResolver는 header, session, cookie에서 파싱해서 처리한다.


MessageSource와 Locale의 관계에 대해 파악 필요


// @formatter:off
	COMMON(1, "item.class.common"),
	RARE(2, "item.class.rare"),
	EPIC(3, "item.class.epic"),
	LEGENDARY(4, "item.class.legendary");
	// @formatter:on

    어떤것은 db에 저장
    어떤것은 enum으로 저장
    어떤것은 es에 저장
    어떤것은 api로 가져오기
    어떤것은 nbase-arc에서 가져오기

